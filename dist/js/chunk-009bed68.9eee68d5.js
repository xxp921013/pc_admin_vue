(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-009bed68"],{2052:function(e,t,a){"use strict";var i=a("abe4"),n=a.n(i);n.a},"8a8a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"根据标签名搜索标签",clearable:""},on:{clear:e.getTags},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTags(t)}},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getTags},slot:"append"})],1)],1)]),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加标签")])],1)],1),a("el-table",{staticClass:"user-table",staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tags,border:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"name",label:"标签名",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"weight",label:"权重(影响热门标签排名)",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改权重",placement:"top-start"}},[a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-setting"},on:{click:function(a){return e.editWeight(t.row)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除标签",placement:"top-start"}},[a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.deleteTag(t.row.id)}}})],1)]}}])})],1)],1),a("el-dialog",{attrs:{title:"修改权重",visible:e.editDialogVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.currentTag,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user",disabled:!0},model:{value:e.currentTag.name,callback:function(t){e.$set(e.currentTag,"name",t)},expression:"currentTag.name"}})],1),a("el-form-item",{attrs:{label:"权重",prop:"weight"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user"},model:{value:e.currentTag.weight,callback:function(t){e.$set(e.currentTag,"weight",t)},expression:"currentTag.weight"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.pushEdit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加标签",visible:e.addDialogVisible,width:"30%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"权重",prop:"weight"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user"},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addTag}},[e._v("确 定")])],1)],1)],1)},n=[],o={name:"TagList",data:function(){return{tags:[],editDialogVisible:!1,addDialogVisible:!1,queryInfo:{query:"",page:1,pageSize:10},form:{name:"",weight:0},currentTag:{id:0,name:"",weight:0},roles:[],selectedId:"",total:0}},created:function(){this.getTags()},methods:{getTags:function(){var e=this;this.$http.get("/admin/article/tagList",{params:this.queryInfo}).then((function(t){console.log(t),500==t.data.code&&e.$message({message:"登录超时,请重新登录!",type:"warning"}),e.tags=t.data.data,e.total=t.data.total}))},deleteTag:function(e){var t=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.delete("/admin/adminUser/deleteTag/"+e).then((function(e){t.$message.success("删除成功!"),t.getTags()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},dialogClose:function(){this.$refs["form"].resetFields()},roleDioClose:function(){},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getTags()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getTags()},editWeight:function(e){this.currentTag=e,this.editDialogVisible=!0},addTag:function(){var e=this;this.$http.post("/admin/article/addTag",this.form).then((function(t){console.log(t);var a=t.data;200==a.code?(e.addDialogVisible=!1,e.$message({message:"添加成功",type:"success"}),e.getTags()):e.$message.error("数据错误")}))},pushEdit:function(){var e=this;console.log(this.currentTag),this.$http.put("/admin/article/editTag",this.currentTag).then((function(t){console.log(t);var a=t.data;200==a.code?(e.$message({message:"修改成功!",type:"success"}),e.getTags(),e.editDialogVisible=!1):e.$message.error("数据错误")}))}}},s=o,l=(a("2052"),a("2877")),r=Object(l["a"])(s,i,n,!1,null,"14302702",null);t["default"]=r.exports},abe4:function(e,t,a){}}]);
//# sourceMappingURL=chunk-009bed68.9eee68d5.js.map